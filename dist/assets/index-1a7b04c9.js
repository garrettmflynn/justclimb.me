var te=Object.defineProperty;var ne=(r,t,n)=>t in r?te(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var T=(r,t,n)=>(ne(r,typeof t!="symbol"?t+"":t,n),n),J=(r,t,n)=>{if(!t.has(r))throw TypeError("Cannot "+n)};var o=(r,t,n)=>(J(r,t,"read from private field"),n?n.call(r):t.get(r)),m=(r,t,n)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,n)},f=(r,t,n,s)=>(J(r,t,"write to private field"),s?s.call(r,n):t.set(r,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(e){if(e.ep)return;e.ep=!0;const i=n(e);fetch(e.href,i)}})();const w=[],D=[];function se(r,t){t.add(r),r.dependencies.add(t)}function re(r){for(const t of r.dependencies)t.delete(r);r.dependencies.clear()}function U(r,t){const n=e=>{re(s),w.push(s);try{r(e)}finally{w.pop()}};t||(t=r.name);const s={name:t,execute:n,dependencies:new Set};return n(),!0}function G(r,t={}){const n=new Set,s=new Set,e=t.name,i=()=>{const l=w[w.length-1];return l&&(!n.has(l)&&t.onSubscriptionAdded&&t.onSubscriptionAdded(l.name),se(l,n)),r},c=(...l)=>{if(e){const d=D[w.length-1];d&&d!==e&&!s.has(d)&&(s.add(d),t.onDependencyAdded&&t.onDependencyAdded(d));const u=w[w.length-1];u&&e!==u.name&&!n.has(u)&&t.onDependencyAdded&&t.onDependencyAdded(u.name)}D.push(e),Array.from(n).forEach(d=>{d.execute(...l)}),D.pop()};return{get:i,set:l=>(c(r=l),r),run:c,subscriptions:n}}function ie(r,t={}){const n=G(void 0,t),s=(...e)=>n.set(r(...e));return U(s,t.name),t.operators?{...n,run:s}:n.get}function oe(r){return typeof r=="function"?"/Function("+r.toString()+")/":r}const R=r=>{if(typeof r=="string"&&r.startsWith("/Function(")&&r.endsWith(")/")){let t=r.substring(10,r.length-2);return t[0]!=="("&&t.slice(0,8)!=="function"&&t.slice(0,5)!=="class"&&(t=`function ${t}`),(0,eval)("("+t+")")}return r},ce=r=>JSON.parse(r,(t,n)=>R(n));function le(r){var n;return typeof r=="function"?r.prototype?(n=Object.getOwnPropertyDescriptor(r,"prototype"))!=null&&n.writable?"function":"class":r.constructor.name==="AsyncFunction"?"async":"arrow":""}const H={},W=["Object","Array","Map","Set"];function V(r){var n;var t=[];if(r)do{const s=(n=r.constructor)==null?void 0:n.name,e=W.includes(s);W.includes(s)&&(H[s]||(H[s]=[...Object.getOwnPropertyNames(globalThis[s].prototype)])),Object.getOwnPropertyNames(r).forEach(function(i){i!=="constructor"&&(e&&H[s].includes(i)||t.indexOf(i)===-1&&t.push(i))})}while(r=Object.getPrototypeOf(r));return t}var S,E,p,y,x,b,P,v,O;const C=class{constructor(t={}){m(this,S,void 0);m(this,E,void 0);m(this,p,void 0);m(this,y,void 0);m(this,x,void 0);m(this,b,void 0);m(this,P,void 0);m(this,v,void 0);m(this,O,void 0);f(this,S,{}),f(this,E,{}),f(this,p,{}),f(this,y,{}),this.nodes={},this.ignore=[],this.onSubscriptionAdded=()=>{},f(this,x,(s,e)=>{let i=s,c=e;if(o(this,p).base&&(i=`${o(this,p).base}.${s}`,c=`${o(this,p).base}.${e}`),o(this,S)[s]||(o(this,S)[s]=new Set),o(this,S)[s].add(e),o(this,b).call(this,s)){for(const a in o(this,S))o(this,S)[a].has(s)&&o(this,x).call(this,a,e);return}o(this,b).call(this,e)||(o(this,E)[s]||(o(this,E)[s]=new Set),o(this,E)[s].has(e)||(o(this,E)[s].add(e),this.onSubscriptionAdded(i,c)))}),this.export=({json:s=!1}={})=>{const e={};for(const i in this.nodes)o(this,y)[i]instanceof C?e[i]=o(this,y)[i].export({json:s}):e[i]=typeof o(this,y)[i]=="function"?o(this,y)[i]:this.nodes[i],s&&(e[i]=oe(e[i]));return e},f(this,b,s=>s[0]==="$"),f(this,P,(s,e)=>{const i=typeof s=="string",c=i?s:e,a=i?e:s,l={...o(this,p),base:o(this,p).base?`${o(this,p).base}.${c}`:c},d=new C(l);o(this,y)[c]=d,d.load(a);const u={};for(const h in d.nodes)o(this,O).call(this,h,{get:()=>d.nodes[h],set:j=>d.nodes[h]=j},u);return i&&o(this,O).call(this,c,{get:()=>u}),u}),this.toJSON=()=>this.export({json:!0}),f(this,v,(s,e)=>ie((...i)=>s.call(this.nodes,...i),{operators:!0,name:e,onDependencyAdded:i=>o(this,x).call(this,i,e)})),f(this,O,(s,e,i=this.nodes)=>(Object.defineProperty(i,s,{...e,enumerable:!0,configurable:!1}),e)),f(this,p,{...t}),Object.keys(o(this,p)).forEach(s=>{Object.defineProperty(this,s,{get:()=>o(this,p)[s],set:e=>o(this,p)[s]=e})})}get subscriptions(){const t=Object.entries(o(this,y)).filter(([s,e])=>e instanceof C),n={...o(this,E)};return t.forEach(([s,e])=>n[s]=e.subscriptions),n}add(t,n){if(!this.ignore.includes(n)){if(typeof t=="object")return this.load(t);{const s=t;o(this,y)[s]=n;let e={};const i=le(n);if(i==="class"){const c=n,a=(...l)=>o(this,P).call(this,new c(...l),s);e.get=()=>a}else if(i){let c;const a=u=>c=o(this,v).call(this,u,s);a(n);const l=()=>c.get(),d=(...u)=>{const h=u.length;return h===1&&u[0]===void 0?l():h?c.run(...u):l()};e.get=()=>d,e.set=a}else{const c=G(n,{onSubscriptionAdded:a=>o(this,x).call(this,s,a)});e.get=()=>c.get(),e.set=c.set}return o(this,b).call(this,s)||(o(this,E)[s]=new Set),o(this,O).call(this,s,e)}}}load(t={}){const n=typeof t=="string"?ce(t):t;return V(n).sort((e,i)=>o(this,b).call(this,e)&&!o(this,b).call(this,i)?1:!o(this,b).call(this,e)&&o(this,b).call(this,i)?-1:0).forEach(e=>{const i=n[e];i&&typeof i=="object"&&!Array.isArray(i)?o(this,P).call(this,e,i):this.add(e,R(i))}),!0}};let L=C;S=new WeakMap,E=new WeakMap,p=new WeakMap,y=new WeakMap,x=new WeakMap,b=new WeakMap,P=new WeakMap,v=new WeakMap,O=new WeakMap;var g,$;class A extends HTMLElement{constructor(n={}){super();m(this,g,void 0);m(this,$,void 0);f(this,$,!1),this.initialize=()=>{if(o(this,$))return;V(this).forEach(e=>{if(e==="constructor"||e==="connectedCallback"||e in HTMLElement.prototype)return;e in o(this,g).nodes?o(this,g).nodes[e]=this[e]:o(this,g).add(e,this[e])});for(let e in o(this,g).nodes)Object.defineProperty(this,e,{get:()=>o(this,g).nodes[e],set:i=>o(this,g).nodes[e]=i});f(this,$,!0)},n instanceof L?f(this,g,n):(f(this,g,new L({ignore:[this.initialize]})),o(this,g).load(n))}connectedCallback(){this.initialize();let n=this.render()??[];Array.isArray(n)||(n=[n]),n.forEach(s=>{s=s.bind(this);let e;U(()=>{const i=s();i!==e&&(e?e.replaceWith(i):this.append(i),e=i)})})}render(){return[]}}g=new WeakMap,$=new WeakMap;customElements.define("commonwealth-element",A);var I;class q extends A{constructor(n){super(n);m(this,I,document.createElement("section"));T(this,"body",()=>o(this,I))}nav(){const n=document.createElement("nav"),s=document.createElement("h2");s.innerText=this.header;const e=window.location.pathname.split("/").filter(l=>l).slice(-1)[0],i=e?e.replaceAll("#",""):"",c=document.createElement("div"),a=this.pages.map(({label:l,element:d},u)=>{const h=document.createElement("a");h.style.marginLeft="15px",h.href="#",h.innerText=l;const j=l.toLowerCase();return h.onclick=()=>{const M=this.body(),k=M.children[0];k?k.replaceWith(d):M.append(d),window.history.pushState({},null,j)},u===0&&(s.onclick=h.onclick),j===i&&h.click(),h});return i||a[0].click(),c.append(...a),n.append(s,c),n}render(){return[this.nav,this.body]}}I=new WeakMap;let ae="page-component";customElements.define(ae,q);class Y extends A{constructor(t){super(t),this.initialize()}onClick(t){return this.grade}button(){const t=document.createElement("button");return t.classList.add("grade"),t.textContent=this.grade,t.addEventListener("click",()=>this.onClick(!0)),t}render(){return[this.button]}}let de="button-component";customElements.define(de,Y);const _=r=>{const t=document.createElement("li"),n=document.createElement("small");n.innerText=r.timestamp;const s=document.createElement("b");return s.innerText=r.value,t.append(s,n),t.style.cursor="delete",t},F=r=>{if(!r)return[];let t=localStorage.getItem(r)||[];return Array.isArray(t)?t:JSON.parse(t)},B=(r,t)=>{localStorage.setItem(r,JSON.stringify(t))},z=()=>new Date().toISOString().split("T")[0],K=()=>F(z());class Q extends A{constructor(n){super(n);T(this,"get",F);T(this,"latest",[]);this.latest=K()}add(n,s){if(n&&s){let e=F(n);e.push({value:s,timestamp:new Date().toLocaleTimeString("en-US")}),B(n,e),this.list(!0)}}addToday(n){this.add(z(),n)}list(n){const s=document.createElement("ul"),e=this.latest=K();return s.innerHTML="",e.forEach((i,c)=>{const a=_(i),l=document.createElement("button");l.innerHTML="Delete",l.style.marginLeft="10px",l.onclick=()=>{e.splice(c,1),B(z(),e),this.list(!0)},a.appendChild(l),s.appendChild(a)}),s}render(){return[this.list]}}let ue="climb-history";customElements.define(ue,Q);var N;class X extends A{constructor(n){super(n);m(this,N,new Q);T(this,"history",()=>o(this,N));T(this,"buttons",()=>{const n=document.createElement("div");n.style.textAlign="center";const e=Array.from({length:18},(l,d)=>`V${d}`).map(l=>new Y({grade:l})),i=new L;let c=!1;const a=this.history();return e.forEach(l=>{i.add(`${l.grade}Clicked`,()=>{const d=l.onClick();c&&a.addToday(d)})}),c=!0,n.append(...e),n});o(this,N).initialize()}score(){const n=document.createElement("h3");n.style.fontSize="100px",n.style.margin="0",n.style.marginBottom="20px",n.style.textAlign="center";const i=this.history().latest.map(c=>parseInt(c.value.slice(1))).reduce((c,a)=>c+a+1,0);return n.innerText=`${i}`,n}render(){return[this.score,this.buttons,this.history]}}N=new WeakMap;let he="score-page";customElements.define(he,X);class Z extends A{constructor(t){super(t)}clear(){const t=document.createElement("button");return t.innerText="Clear All History (MAKE SURE YOU WANT THIS)",t.onclick=()=>{localStorage.clear(),window.location.reload()},t}render(){return[this.clear]}}let fe="settings-page";customElements.define(fe,Z);class ee extends A{constructor(t){super(t)}list(){const t=Array.from({length:localStorage.length},(s,e)=>localStorage.key(e)),n=document.createElement("div");return n.append(...t.map(s=>{const e=F(s),i=document.createElement("div"),c=document.createElement("h3");c.style.marginBottom="0px",c.innerText=s;const a=document.createElement("small"),l=e.reduce((u,h)=>u+parseInt(h.value.slice(1)),0)/e.length;a.innerText=`${e.length} climbs @ V${l.toFixed(1)}`;const d=document.createElement("ul");return e.forEach(u=>{const h=_(u);d.append(h)}),i.append(c,a,d),i})),n}render(){return[this.list]}}let me="history-page";customElements.define(me,ee);const pe=new X,ge=new Z,ye=new ee,be=new q({header:"JustClimb",pages:[{label:"Score",element:pe},{label:"History",element:ye},{label:"Settings",element:ge}]});document.body.append(be);
